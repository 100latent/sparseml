version: 1

as_relus: &as_relus
  - 'input.act'
  - 'sections.0.0.act1'
  - 'sections.0.0.act2'
  - 'sections.0.0.act_out'
  - 'sections.0.1.act1'
  - 'sections.0.1.act2'
  - 'sections.0.1.act_out'
  - 'sections.0.2.act1'
  - 'sections.0.2.act2'
  - 'sections.0.2.act_out'
  - 'sections.1.0.act1'
  - 'sections.1.0.act2'
  - 'sections.1.0.act_out'
  - 'sections.1.1.act1'
  - 'sections.1.1.act2'
  - 'sections.1.1.act_out'
  - 'sections.1.2.act1'
  - 'sections.1.2.act2'
  - 'sections.1.2.act_out'
  - 'sections.1.3.act1'
  - 'sections.1.3.act2'
  - 'sections.1.3.act_out'
  - 'sections.2.0.act1'
  - 'sections.2.0.act2'
  - 'sections.2.0.act_out'
  - 'sections.2.1.act1'
  - 'sections.2.1.act2'
  - 'sections.2.1.act_out'
  - 'sections.2.2.act1'
  - 'sections.2.2.act2'
  - 'sections.2.2.act_out'
  - 'sections.2.3.act1'
  - 'sections.2.3.act2'
  - 'sections.2.3.act_out'
  - 'sections.2.4.act1'
  - 'sections.2.4.act2'
  - 'sections.2.4.act_out'
  - 'sections.2.5.act1'
  - 'sections.2.5.act2'
  - 'sections.2.5.act_out'
  - 'sections.3.0.act1'
  - 'sections.3.0.act2'
  - 'sections.3.0.act_out'
  - 'sections.3.1.act1'
  - 'sections.3.1.act2'
  - 'sections.3.1.act_out'
  - 'sections.3.2.act1'
  - 'sections.3.2.act2'
  - 'sections.3.2.act_out'

modifiers:
  - !LearningRateModifier
    start_epoch: 0.0
    end_epoch: 90.0
    update_frequency: 1.0
    lr_class: MultiStepLR
    lr_kwargs:
      milestones: [30, 60]
      gamma: 0.2
    init_lr: 0.005

  - !ASRegModifier
    layers: *as_relus
    alpha: 1.0e-8
    layer_normalized: False
    reg_func: l1
    reg_tens: out
